(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{4537:function(){},3064:function(e,t,r){"use strict";r.d(t,{Y:function(){return b}});var a=r(7437),s=r(2265),n=r(7648),i=r(9376),o=r(6281),l=r(9763);let c=(0,l.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var u=r(5005),d=r(8736);let h=(0,l.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),m=(0,l.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=r(5149),y=r(2489),f=r(8293);let x=(0,l.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var g=r(4508);let v=[{name:"Dashboard",href:"/dashboard",icon:c},{name:"Jobs",href:"/dashboard/jobs",icon:u.Z},{name:"Applications",href:"/dashboard/applications",icon:d.Z},{name:"Profile",href:"/dashboard/profile",icon:h},{name:"Settings",href:"/dashboard/settings",icon:m}];function b(){var e,t,r;let[l,c]=(0,s.useState)(!1),u=(0,i.usePathname)(),{user:d,logout:h}=(0,o.a)(),m=(null==d?void 0:d.firstName)&&(null==d?void 0:d.lastName)?"".concat(d.firstName[0]).concat(d.lastName[0]).toUpperCase():(null==d?void 0:null===(t=d.email)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.toUpperCase())||"U",b=(null==d?void 0:d.firstName)&&(null==d?void 0:d.lastName)?"".concat(d.firstName," ").concat(d.lastName):(null==d?void 0:null===(r=d.email)||void 0===r?void 0:r.split("@")[0])||"User",w=(null==d?void 0:d.email)||"";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-navy-900 px-4 py-3 flex items-center justify-between",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-navy-600 to-ocean-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(p.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{className:"font-bold text-lg text-white",children:"AutoApply AI"})]}),(0,a.jsx)("button",{onClick:()=>c(!l),className:"p-2 text-white",children:l?(0,a.jsx)(y.Z,{className:"w-6 h-6"}):(0,a.jsx)(f.Z,{className:"w-6 h-6"})})]}),l&&(0,a.jsxs)("div",{className:"lg:hidden fixed inset-0 z-40 bg-navy-900 pt-16",children:[(0,a.jsx)("nav",{className:"px-4 py-4 space-y-1",children:v.map(e=>{let t=e.icon,r=u===e.href;return(0,a.jsxs)(n.default,{href:e.href,onClick:()=>c(!1),className:(0,g.cn)("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors",r?"bg-ocean-500/20 text-ocean-400 border border-ocean-500/30":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,a.jsx)(t,{className:"w-5 h-5"}),e.name]},e.name)})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/10",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-ocean-500 to-navy-600 flex items-center justify-center text-white font-semibold",children:m}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:b}),(0,a.jsx)("p",{className:"text-xs text-gray-400 truncate",children:w})]})]})})]}),(0,a.jsxs)("aside",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 bg-navy-900 border-r border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-white/10",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-navy-600 to-ocean-500 rounded-xl flex items-center justify-center",children:(0,a.jsx)(p.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsx)("span",{className:"font-bold text-xl text-white",children:"AutoApply AI"})]}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:v.map(e=>{let t=e.icon,r=u===e.href;return(0,a.jsxs)(n.default,{href:e.href,className:(0,g.cn)("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",r?"bg-ocean-500/20 text-ocean-400 border border-ocean-500/30 shadow-glow":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,a.jsx)(t,{className:"w-5 h-5"}),e.name]},e.name)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-ocean-500 to-navy-600 flex items-center justify-center text-white font-semibold",children:m}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:b}),(0,a.jsx)("p",{className:"text-xs text-gray-400 truncate",children:w})]})]}),(0,a.jsxs)("button",{onClick:h,className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[(0,a.jsx)(x,{className:"w-4 h-4"}),"Sign out"]})]})]})]})}},6281:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},ProtectedRoute:function(){return u},a:function(){return c}});var a=r(7437),s=r(2265),n=r(9376),i=r(9116);let o=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),d=(0,n.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("token");e?(i.ZP.setToken(e),h()):u(!1)},[]);let h=async()=>{try{var e;let t=await i.ZP.getMe();(null===(e=t.data)||void 0===e?void 0:e.user)?l(t.data.user):y()}catch(e){y()}finally{u(!1)}},m=async(e,t)=>{try{var r;let a=await i.ZP.login({email:e,password:t});if(a.error)return{success:!1,error:a.error};if(null===(r=a.data)||void 0===r?void 0:r.token)return i.ZP.setToken(a.data.token),l(a.data.user),{success:!0};return{success:!1,error:"Login failed"}}catch(e){return{success:!1,error:e.message||"Login failed"}}},p=async e=>{try{var t;let r=await i.ZP.register(e);if(r.error)return{success:!1,error:r.error};if(null===(t=r.data)||void 0===t?void 0:t.token)return i.ZP.setToken(r.data.token),l(r.data.user),{success:!0};return{success:!1,error:"Registration failed"}}catch(e){return{success:!1,error:e.message||"Registration failed"}}},y=()=>{i.ZP.setToken(null),l(null),d.push("/")};return(0,a.jsx)(o.Provider,{value:{user:r,isLoading:c,isAuthenticated:!!r,login:m,register:p,logout:y,refreshUser:h},children:t})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(e){let{children:t}=e,{isAuthenticated:r,isLoading:i}=c(),o=(0,n.useRouter)();return((0,s.useEffect)(()=>{i||r||o.push("/auth/login")},[i,r,o]),i)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-ocean-500"})}):r?(0,a.jsx)(a.Fragment,{children:t}):null}},9116:function(e,t,r){"use strict";var a=r(3177),s=r(257);(0,a.config)();let n=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3001";class i{setToken(e){this.token=e,e?localStorage.setItem("token",e):localStorage.removeItem("token")}getToken(){return this.token}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseUrl).concat(e),a={"Content-Type":"application/json",...t.headers};this.token&&(a.Authorization="Bearer ".concat(this.token));try{let e=await fetch(r,{...t,headers:a}),s=await e.json();if(!e.ok)throw 401===e.status&&this.setToken(null),Error(s.error||s.message||"Request failed");return{data:s}}catch(e){return{error:e.message||"Network error"}}}async register(e){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(e)})}async login(e){return this.request("/api/auth/login",{method:"POST",body:JSON.stringify(e)})}async getMe(){return this.request("/api/auth/me")}async getJobs(e){let t=new URLSearchParams;return(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),this.request("/api/jobs?".concat(t.toString()))}async getJob(e){return this.request("/api/jobs/".concat(e))}async createJob(e){return this.request("/api/jobs",{method:"POST",body:JSON.stringify(e)})}async updateJob(e,t){return this.request("/api/jobs/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteJob(e){return this.request("/api/jobs/".concat(e),{method:"DELETE"})}async getApplications(e){let t=new URLSearchParams;return(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),this.request("/api/applications?".concat(t.toString()))}async getApplication(e){return this.request("/api/applications/".concat(e))}async createApplication(e){return this.request("/api/applications",{method:"POST",body:JSON.stringify(e)})}async updateApplication(e,t){return this.request("/api/applications/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteApplication(e){return this.request("/api/applications/".concat(e),{method:"DELETE"})}async getResumes(){return this.request("/api/resumes")}async getResume(e){return this.request("/api/resumes/".concat(e))}async createResume(e){return this.request("/api/resumes",{method:"POST",body:JSON.stringify(e)})}async updateResume(e,t){return this.request("/api/resumes/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteResume(e){return this.request("/api/resumes/".concat(e),{method:"DELETE"})}async generateCoverLetter(e){return this.request("/api/ai/generate-cover-letter",{method:"POST",body:JSON.stringify(e)})}async improveCoverLetter(e){return this.request("/api/ai/improve-cover-letter",{method:"POST",body:JSON.stringify(e)})}async analyzeJobFit(e){return this.request("/api/ai/analyze-job-fit",{method:"POST",body:JSON.stringify(e)})}constructor(){this.baseUrl=n,this.token=null,this.token=localStorage.getItem("token")}}let o=new i;t.ZP=o},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},5005:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},8736:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},5863:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}}]);
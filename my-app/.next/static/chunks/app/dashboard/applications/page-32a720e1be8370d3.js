(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{5219:function(e,t,s){Promise.resolve().then(s.bind(s,8606))},8606:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),l=s(2265),r=s(3064),n=s(9116),i=s(2489),c=s(5863),d=s(8736),o=s(9397),x=s(6858);let m={PENDING:"bg-yellow-100 text-yellow-800",APPLIED:"bg-blue-100 text-blue-800",INTERVIEWING:"bg-purple-100 text-purple-800",REJECTED:"bg-red-100 text-red-800",OFFERED:"bg-green-100 text-green-800",HIRED:"bg-green-100 text-green-800",WITHDRAWN:"bg-gray-100 text-gray-800"},p={PENDING:"Pending",APPLIED:"Applied",INTERVIEWING:"Interviewing",REJECTED:"Rejected",OFFERED:"Offered",HIRED:"Hired",WITHDRAWN:"Withdrawn"};function h(){let[e,t]=(0,l.useState)([]),[s,h]=(0,l.useState)(!0),[u,g]=(0,l.useState)(""),[b,j]=(0,l.useState)(null),[y,N]=(0,l.useState)("ALL");(0,l.useEffect)(()=>{f()},[]);let f=async()=>{try{var e;h(!0);let s=await n.ZP.getApplications({limit:50});if(s.error){g(s.error);return}t((null===(e=s.data)||void 0===e?void 0:e.applications)||[])}catch(e){g(e.message||"Failed to fetch applications")}finally{h(!1)}},v=async(e,t)=>{let s=await n.ZP.updateApplication(e,{status:t});s.error?g(s.error):(f(),(null==b?void 0:b.id)===e&&j({...b,status:t}))},w="ALL"===y?e:e.filter(e=>e.status===y),E={total:e.length,pending:e.filter(e=>"PENDING"===e.status).length,applied:e.filter(e=>"APPLIED"===e.status).length,interviewing:e.filter(e=>"INTERVIEWING"===e.status).length,offers:e.filter(e=>"OFFERED"===e.status||"HIRED"===e.status).length};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.Y,{}),(0,a.jsx)("main",{className:"lg:ml-64 pt-16 lg:pt-0",children:(0,a.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-navy-900",children:"Applications"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Track and manage your job applications"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[{label:"Total",value:E.total,color:"bg-gray-100"},{label:"Pending",value:E.pending,color:"bg-yellow-50"},{label:"Applied",value:E.applied,color:"bg-blue-50"},{label:"Interviewing",value:E.interviewing,color:"bg-purple-50"},{label:"Offers",value:E.offers,color:"bg-green-50"}].map(e=>(0,a.jsxs)("button",{onClick:()=>N(y===e.label.toUpperCase()?"ALL":e.label.toUpperCase()),className:"p-4 rounded-xl border transition-all ".concat(y===e.label.toUpperCase()?"border-ocean-500 ring-2 ring-ocean-500/20":"border-gray-100 hover:border-gray-200"," ").concat(e.color),children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-navy-900",children:e.value}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.label})]},e.label))}),u&&(0,a.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-100 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-red-600 text-sm",children:u}),(0,a.jsx)("button",{onClick:()=>g(""),className:"text-red-400 hover:text-red-600",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})})]}),s?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(c.Z,{className:"w-8 h-8 animate-spin text-ocean-500"})}):w.length>0?(0,a.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Job"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Company"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Applied"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:w.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("div",{className:"font-medium text-navy-900",children:e.job.title})}),(0,a.jsxs)("td",{className:"py-4 px-4",children:[(0,a.jsx)("div",{className:"text-gray-600",children:e.job.company}),e.job.location&&(0,a.jsx)("div",{className:"text-sm text-gray-400",children:e.job.location})]}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("select",{value:e.status,onChange:t=>v(e.id,t.target.value),className:"text-sm font-medium px-3 py-1 rounded-full border-0 cursor-pointer ".concat(m[e.status]||"bg-gray-100"),children:Object.entries(p).map(e=>{let[t,s]=e;return(0,a.jsx)("option",{value:t,children:s},t)})})}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.appliedAt?new Date(e.appliedAt).toLocaleDateString():new Date(e.createdAt).toLocaleDateString()})}),(0,a.jsx)("td",{className:"py-4 px-4 text-right",children:(0,a.jsx)("button",{onClick:()=>j(e),className:"text-ocean-500 hover:text-ocean-600 text-sm font-medium",children:"View"})})]},e.id))})]})}):(0,a.jsxs)("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(d.Z,{className:"w-8 h-8 text-gray-400"})}),(0,a.jsx)("h3",{className:"font-semibold text-navy-900 mb-2",children:"No applications yet"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Start by adding jobs and creating applications"}),(0,a.jsxs)("a",{href:"/dashboard/jobs",className:"inline-flex items-center px-4 py-2 bg-ocean-500 text-white rounded-lg hover:bg-ocean-600 transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Browse Jobs"]})]})]})}),b&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-navy-900",children:b.job.title}),(0,a.jsx)("p",{className:"text-gray-500",children:b.job.company})]}),(0,a.jsx)("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),(0,a.jsx)("select",{value:b.status,onChange:e=>v(b.id,e.target.value),className:"text-sm font-medium px-3 py-1.5 rounded-full border-0 cursor-pointer ".concat(m[b.status]||"bg-gray-100"),children:Object.entries(p).map(e=>{let[t,s]=e;return(0,a.jsx)("option",{value:t,children:s},t)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Applied"}),(0,a.jsx)("p",{className:"font-medium text-navy-900",children:b.appliedAt?new Date(b.appliedAt).toLocaleDateString():new Date(b.createdAt).toLocaleDateString()})]}),b.resume&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Resume"}),(0,a.jsx)("p",{className:"font-medium text-navy-900",children:b.resume.name})]})]}),b.coverLetter&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Cover Letter"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-700 whitespace-pre-wrap",children:b.coverLetter})]}),b.job.url&&(0,a.jsxs)("a",{href:b.job.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-ocean-500 hover:text-ocean-600 font-medium",children:["View Job Posting",(0,a.jsx)(x.Z,{className:"w-4 h-4 ml-1"})]})]})]})})]})}},6858:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[218,506,451,644,525,971,117,744],function(){return e(e.s=5219)}),_N_E=e.O()}]);